CREATE DATABASE WKPEDIDOS;

use WKPEDIDOS;

CREATE TABLE PRODUTOS (
CDPRODUTO INTEGER NOT NULL,
DESCRICAO VARCHAR(100) NOT NULL,
VLRVENDA DECIMAL(18,2) NOT NULL);

CREATE TABLE CLIENTES (
CDCLIENTE INTEGER NOT NULL,
NOME VARCHAR(100) NOT NULL,
CIDADE VARCHAR(50) NOT NULL,
UF VARCHAR(2) NOT NULL);

CREATE TABLE PEDIDOS(
NRPEDIDO INTEGER NOT NULL,
DTEMISSAO DATE NOT NULL,
CDCLIENTE INTEGER NOT NULL,  
VLRTOTAL DECIMAL(5,2)
);


CREATE TABLE ITEMPEDIDO (
CHAVE INTEGER NOT null primary KEY AUTO_INCREMENT,
NRPEDIDO INTEGER NOT NULL,
CDPRODUTO INTEGER NOT NULL,
QUANTIDADE DECIMAL(18,2) NOT NULL,
VLRUNITARIO DECIMAL(5,2) NOT NULL,
VLRTOTAL DECIMAL(5,2) NOT NULL);


ALTER TABLE PRODUTOS ADD PRIMARY KEY (CDPRODUTO);

ALTER TABLE CLIENTES ADD PRIMARY KEY (CDCLIENTE);

ALTER TABLE PEDIDOS ADD PRIMARY KEY (NRPEDIDO);
ALTER TABLE PEDIDOS ADD CONSTRAINT pedidos_FK FOREIGN KEY (CDCLIENTE) REFERENCES CLIENTES (CDCLIENTE);
CREATE UNIQUE INDEX pedidos_nrpedido_IDX ON PEDIDOS (NRPEDIDO);

ALTER TABLE ITEMPEDIDO ADD CONSTRAINT pedidos_FK_1 FOREIGN KEY (NRPEDIDO) REFERENCES PEDIDOS(NRPEDIDO);
ALTER TABLE ITEMPEDIDO ADD CONSTRAINT pedidos_FK_2 FOREIGN KEY (CDPRODUTO) REFERENCES PRODUTOS (CDPRODUTO);
CREATE INDEX itempedido_NRPEDIDO_IDX ON ITEMPEDIDO  (NRPEDIDO);

INSERT INTO PRODUTOS
(CDPRODUTO, DESCRICAO, VLRVENDA)
VALUES(1, 'CAFÉ', 1.50);
INSERT INTO PRODUTOS
(CDPRODUTO, DESCRICAO, VLRVENDA)
VALUES(2, 'PÃO', 1.00);
INSERT INTO PRODUTOS
(CDPRODUTO, DESCRICAO, VLRVENDA)
VALUES(3, 'CHÁ', 2.00);
INSERT INTO PRODUTOS
(CDPRODUTO, DESCRICAO, VLRVENDA)
VALUES(4, 'SANDUÍCHE', 3.50);
INSERT INTO PRODUTOS
(CDPRODUTO, DESCRICAO, VLRVENDA)
VALUES(5, 'BOLO', 4.00);
INSERT INTO PRODUTOS
(CDPRODUTO, DESCRICAO, VLRVENDA)
VALUES(6, 'CROISSANT', 3.50);
INSERT INTO PRODUTOS
(CDPRODUTO, DESCRICAO, VLRVENDA)
VALUES(7, 'PASTEL', 2.50);
INSERT INTO PRODUTOS
(CDPRODUTO, DESCRICAO, VLRVENDA)
VALUES(8, 'RISOLES', 2.50);
INSERT INTO PRODUTOS
(CDPRODUTO, DESCRICAO, VLRVENDA)
VALUES(9, 'BOLACHA', 2.25);
INSERT INTO PRODUTOS
(CDPRODUTO, DESCRICAO, VLRVENDA)
VALUES(10, 'REFRIGERANTE', 4.50);
INSERT INTO PRODUTOS
(CDPRODUTO, DESCRICAO, VLRVENDA)
VALUES(11, 'ÁGUA', 4.00);
INSERT INTO PRODUTOS
(CDPRODUTO, DESCRICAO, VLRVENDA)
VALUES(12, 'LONG NECK', 6.00);
INSERT INTO PRODUTOS
(CDPRODUTO, DESCRICAO, VLRVENDA)
VALUES(13, 'SORVETE', 7.00);
INSERT INTO PRODUTOS
(CDPRODUTO, DESCRICAO, VLRVENDA)
VALUES(14, 'SUCO NATUAL', 4.50);
INSERT INTO PRODUTOS
(CDPRODUTO, DESCRICAO, VLRVENDA)
VALUES(15, 'LIMONADA SUÍÇA', 6.50);
INSERT INTO PRODUTOS
(CDPRODUTO, DESCRICAO, VLRVENDA)
VALUES(16, 'CHEESECAKE', 6.00);
INSERT INTO PRODUTOS
(CDPRODUTO, DESCRICAO, VLRVENDA)
VALUES(17, 'CUPCAKE', 2.50);
INSERT INTO PRODUTOS
(CDPRODUTO, DESCRICAO, VLRVENDA)
VALUES(18, 'GROSTOLI', 2.00);
INSERT INTO PRODUTOS
(CDPRODUTO, DESCRICAO, VLRVENDA)
VALUES(19, 'BROA', 1.50);
INSERT INTO PRODUTOS
(CDPRODUTO, DESCRICAO, VLRVENDA)
VALUES(20, 'SONHO', 2.00);
INSERT INTO PRODUTOS
(CDPRODUTO, DESCRICAO, VLRVENDA)
VALUES(21, 'BALA', 0.30);

INSERT INTO CLIENTES
(CDCLIENTE, NOME, CIDADE, UF)
VALUES(1, 'IOAN BLEICHVEL', 'CANOAS', 'RS');
INSERT INTO CLIENTES
(CDCLIENTE, NOME, CIDADE, UF)
VALUES(2, 'ELVIS PRESLEY', 'NOVO HAMBURGO', 'RS');
INSERT INTO CLIENTES
(CDCLIENTE, NOME, CIDADE, UF)
VALUES(3, 'JANIS JOPLIN', 'CACHOEIRINHA', 'RS');
INSERT INTO CLIENTES
(CDCLIENTE, NOME, CIDADE, UF)
VALUES(4, 'JIMI HENDRIX', 'GRAVATAI', 'RS');
INSERT INTO CLIENTES
(CDCLIENTE, NOME, CIDADE, UF)
VALUES(5, 'JANAINA OLIVEIRA', 'ESTEIO', 'RS');
INSERT INTO CLIENTES
(CDCLIENTE, NOME, CIDADE, UF)
VALUES(6, 'ANDERSON MARTINS', 'SAPUCAIA', 'RS');
INSERT INTO CLIENTES
(CDCLIENTE, NOME, CIDADE, UF)
VALUES(7, 'MARTA AMARAL', 'TRAMANDAÍ', 'RS');
INSERT INTO CLIENTES
(CDCLIENTE, NOME, CIDADE, UF)
VALUES(8, 'CLOVIS MACHADO', 'IMBÉ', 'RS');
INSERT INTO CLIENTES
(CDCLIENTE, NOME, CIDADE, UF)
VALUES(9, 'JULIETTE MENDONÇA', 'SANTA MARIA', 'RS');
INSERT INTO CLIENTES
(CDCLIENTE, NOME, CIDADE, UF)
VALUES(10, 'AMADO BATISTA', 'TORRES', 'RS');
INSERT INTO CLIENTES
(CDCLIENTE, NOME, CIDADE, UF)
VALUES(11, 'RAUL SEIXAS', 'LAJEADO', 'RS');
INSERT INTO CLIENTES
(CDCLIENTE, NOME, CIDADE, UF)
VALUES(12, 'RITA LEE', 'PORTO ALEGRE', 'RS');
INSERT INTO CLIENTES
(CDCLIENTE, NOME, CIDADE, UF)
VALUES(13, 'RUTH LEMOS', 'SANTA CRUZ', 'RS');
INSERT INTO CLIENTES
(CDCLIENTE, NOME, CIDADE, UF)
VALUES(14, 'FAUSTO SILVA', 'IGREJINHA', 'RS');
INSERT INTO CLIENTES
(CDCLIENTE, NOME, CIDADE, UF)
VALUES(15, 'JEREMIAS BUENO', 'CAPÃO DA CANOA', 'RS');
INSERT INTO CLIENTES
(CDCLIENTE, NOME, CIDADE, UF)
VALUES(16, 'TEREZA DA COSTA', 'MAQUINÉ', 'RS');
INSERT INTO CLIENTES
(CDCLIENTE, NOME, CIDADE, UF)
VALUES(17, 'SANDRA DE SA', 'MONTENEGRO', 'RS');
INSERT INTO CLIENTES
(CDCLIENTE, NOME, CIDADE, UF)
VALUES(18, 'ANTONIO BANDEIRAS', 'TRIUNFO', 'RS');
INSERT INTO CLIENTES
(CDCLIENTE, NOME, CIDADE, UF)
VALUES(19, 'RENATO RUSSO', 'ESTANCIA VELHA', 'RS');
INSERT INTO CLIENTES
(CDCLIENTE, NOME, CIDADE, UF)
VALUES(20, 'CELSO RUSSOMANO', 'VIAMAO', 'RS');
INSERT INTO CLIENTES
(CDCLIENTE, NOME, CIDADE, UF)
VALUES(21, 'ALICE BASTOS NEVES', 'ALVORADA', 'RS');


INSERT INTO PEDIDOS
(nrpedido, dtemissao, CDCLIENTE, VLRTOTAL)
VALUES(1, '2021-08-17', 12, 30.00);
INSERT INTO PEDIDOS
(nrpedido, dtemissao, CDCLIENTE, VLRTOTAL)
VALUES(2, '2021-08-17', 7, 36.00);
INSERT INTO PEDIDOS
(nrpedido, dtemissao, CDCLIENTE, VLRTOTAL)
VALUES(3, '2021-08-17', 12, 27.50);
INSERT INTO PEDIDOS
(nrpedido, dtemissao, CDCLIENTE, VLRTOTAL)
VALUES(4, '2021-08-17', 5, 103.50);
INSERT INTO PEDIDOS
(nrpedido, dtemissao, CDCLIENTE, VLRTOTAL)
VALUES(5, '2021-08-17', 12, 32.50);


INSERT INTO ITEMPEDIDO
(CHAVE, NRPEDIDO, CDPRODUTO, QUANTIDADE, VLRUNITARIO, VLRTOTAL)
VALUES(3, 2, 1, 6.00, 6.00, 36.00);
INSERT INTO ITEMPEDIDO
(CHAVE, NRPEDIDO, CDPRODUTO, QUANTIDADE, VLRUNITARIO, VLRTOTAL)
VALUES(7, 3, 5, 10.00, 2.75, 27.50);
INSERT INTO ITEMPEDIDO
(CHAVE, NRPEDIDO, CDPRODUTO, QUANTIDADE, VLRUNITARIO, VLRTOTAL)
VALUES(8, 4, 5, 10.00, 10.35, 103.50);
INSERT INTO ITEMPEDIDO
(CHAVE, NRPEDIDO, CDPRODUTO, QUANTIDADE, VLRUNITARIO, VLRTOTAL)
VALUES(9, 5, 2, 1.00, 5.00, 5.00);
INSERT INTO ITEMPEDIDO
(CHAVE, NRPEDIDO, CDPRODUTO, QUANTIDADE, VLRUNITARIO, VLRTOTAL)
VALUES(10, 5, 5, 10.00, 2.75, 27.50);

commit;




